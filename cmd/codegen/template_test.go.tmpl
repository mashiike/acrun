// Code generated by cmd/codegen. DO NOT EDIT.

package acrun

import (
	"testing"

	"github.com/aws/aws-sdk-go-v2/aws"
	"github.com/aws/aws-sdk-go-v2/service/bedrockagentcorecontrol/types"
	"github.com/stretchr/testify/require"
)
{{range .UnionFields}}
func TestConvert{{.FieldName}}_Generated(t *testing.T) {
	cases := []struct {
		Name      string
		Input     any
		Expected  types.{{.FieldName}}
		ShouldErr bool
	}{
{{range .Members}}		{
			Name:  "{{.JSONKey}}",
			Input: {{.TestInputJSON}},
			Expected: {{.TestExpected}},
			ShouldErr: false,
		},
{{end}}	}

	for _, tc := range cases {
		t.Run(tc.Name, func(t *testing.T) {
			// Test convertTo{{.FieldName}}
			got, err := convertTo{{.FieldName}}(tc.Input, true)
			if tc.ShouldErr {
				require.Error(t, err)
				return
			}
			require.NoError(t, err)
			require.EqualValues(t, tc.Expected, got)

			// Test round-trip through convertFrom{{.FieldName}}
			converted, err := convertFrom{{.FieldName}}(got)
			require.NoError(t, err)

			// Convert back again
			roundTrip, err := convertTo{{.FieldName}}(converted, true)
			require.NoError(t, err)
			require.EqualValues(t, tc.Expected, roundTrip)
		})
	}
}

func TestMarshalUnmarshalAgentRuntime_{{.FieldName}}_Generated(t *testing.T) {
	cases := []struct {
		Name    string
		Runtime *AgentRuntime
	}{
{{$fieldName := .FieldName}}{{range .Members}}		{
			Name: "with_{{.JSONKey}}",
			Runtime: &AgentRuntime{
				AgentRuntimeName: aws.String("test_runtime"),
				RoleArn:          aws.String("arn:aws:iam::123456789012:role/TestRole"),
				{{$fieldName}}: {{.TestExpected}},
			},
		},
{{end}}	}

	for _, tc := range cases {
		t.Run(tc.Name, func(t *testing.T) {
			// Test marshal
			bs, err := marshalAgentRuntime(tc.Runtime, "  ")
			require.NoError(t, err)
			require.NotEmpty(t, bs)

			// Test unmarshal
			got, err := unmarshalAgentRuntime(bs, true)
			require.NoError(t, err)
			require.EqualValues(t, tc.Runtime.{{.FieldName}}, got.{{.FieldName}})
		})
	}
}
{{end}}
